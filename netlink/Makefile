# generated by makefile_builder.pl using [path cur_dir -t install msg -t clean msg]

# search file from current folder to parent folders
# cutoff at 14th parent folder
search_cutoff := ../../../../../../../../../../../../../../
define search-file
	$(if $(filter $(search_cutoff)%,$1),,$(if $(wildcard $1),$1,$(call search-file,../$1)))
endef

include $(call search-file,path.mk)
include $(call search-file,lib.mk)
include $(call search-file,arch.mk)

current_dir := $(shell pwd)
targets :=

############################# section elbox rules #############################
targets += all

APPLET      := netlink_firewall
LOCAL_SRCS  := netlink_firewall.c

CFLAGS += -DSLOOP_USE_GETTIMEOFDAY
CFLAGS += -I $(TOPDIR)/include

include $(TOPDIR)/Rules.mk

############################# section install #############################
targets += install
# file and directory selectors

install:
	$(call color_print,Installing objects in $(current_dir),green)
	$(call create_install_paths,$(TARGET)/usr/sbin)
	$(call install_apps,./,$(TARGET)/usr/sbin,netlink_firewall)

############################# section clean #############################
targets += clean
# file and directory selectors

clean:
	$(call color_print,Clean objects in $(current_dir),green)
	@rm -f *.o $(APPLET) .depend

.PHONY: $(targets)
